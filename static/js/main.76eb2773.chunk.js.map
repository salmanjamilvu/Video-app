{"version":3,"sources":["assets/images/ag-logo.png","components/AgoraVideoCall/index.jsx","assets/images/ag-login.png","utils/Validator.js","utils/Settings.js","pages/index/index.jsx","agora.config.js","pages/meeting/index.jsx","pages/App.jsx","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","tile_canvas","1","2","3","4","5","6","7","AgoraCanvas","props","_this","Object","D_React_project_video_chat_master_vieoapp_OpenAgoraWeb_React_master_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_super","call","streamInit","uid","attendeeMode","videoProfile","config","defaultConfig","streamID","audio","video","screen","stream","AgoraRTC","createStream","merge","setVideoProfile","subscribeStreamEvents","rt","D_React_project_video_chat_master_vieoapp_OpenAgoraWeb_React_master_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__","client","on","evt","console","log","getId","Date","toLocaleTimeString","subscribe","err","removeStream","addStream","state","streamList","map","item","index","close","element","document","querySelector","parentNode","removeChild","tempList","D_React_project_video_chat_master_vieoapp_OpenAgoraWeb_React_master_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","splice","setState","push","arguments","length","undefined","some","concat","handleCamera","e","currentTarget","classList","toggle","localStream","isVideoOn","disableVideo","enableVideo","handleMic","isAudioOn","disableAudio","enableAudio","switchDisplay","contains","displayMode","error","hideRemote","id","Array","from","querySelectorAll","style","display","handleExit","unpublish","stateSharing","shareClient","shareStream","leave","readyState","window","location","hash","sharingScreen","$","createClient","mode","transcode","init","appId","join","channel","streamInitSharing","publish","_this2","canvas","btnGroup","addEventListener","global","_toolbarToggle","clearTimeout","add","setTimeout","remove","no","dom","createElement","setAttribute","appendChild","play","player","resize","videoControlBtn","react__WEBPACK_IMPORTED_MODULE_6___default","a","onClick","className","title","audioControlBtn","switchDisplayBtn","hideRemoteBtn","exitBtn","gridGap","alignItems","justifyItems","gridTemplateRows","gridTemplateColumns","React","Component","Validator","minLength","value","maxLength","validChar","test","isNonEmpty","RESOLUTION_ARR","120p,120p_1","120p_3","180p,180p_1","180p_3","180p_4","240p,240p_1","240p_3","240p_4","360p,360p_1","360p_3","360p_4","360p_6","360p_7","360p_8","360p_9","360p_10","360p_11","480p,480p_1","480p_2","480p_3","480p_4","480p_6","480p_8","480p_9","480p_10","720p,720p_1","720p_2","720p_3","720p_5","720p_6","1080p,1080p_1","1080p_2","1080p_3","1080p_5","1440p,1440p_1","1440p_2","4k,4k_1","4k_3","Index","classCallCheck","handleChannel","val","joinBtn","handleJoin","Cookies","baseMode","keyCode","_this3","react_default","src","require","alt","index_InputChannel","onChange","placeholder","index_BaseOptions","index_AdvancedOptions","onRadioChange","onSelectChange","target","type","name","defaultChecked","disabled","href","InputChannel","_this4","_super2","validate","errorMsg","trim","handleChange","validateIcon","onInput","BaseOptions","_this5","_super3","handleSelect","msg","label","message","active","_options","content","_this6","options","key","aria-haspopup","aria-controls","aria-hidden","role","AdvancedOptions","_this7","_super4","handleRadio","_this8","entries","split","defaultValue","AGORA_APP_ID","Meeting","possibleConstructorReturn","alert","AgoraVideoCall","App","react_router_dom","react_router","exact","path","component","Boolean","hostname","match","obj","ownProps","keys","i","resArray","ReactDOM","render","src_pages_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.76eb2773.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ag-logo.c9b3e104.png\";","import React from \"react\";\nimport { merge } from \"lodash\";\nimport AgoraRTC from \"agora-rtc-sdk\";\n\nimport \"./canvas.css\";\nimport \"../../assets/fonts/css/icons.css\";\n\nconst tile_canvas = {\n  \"1\": [\"span 12/span 24\"],\n  \"2\": [\"span 12/span 12/13/25\", \"span 12/span 12/13/13\"],\n  \"3\": [\"span 6/span 12\", \"span 6/span 12\", \"span 6/span 12/7/19\"],\n  \"4\": [\n    \"span 6/span 12\",\n    \"span 6/span 12\",\n    \"span 6/span 12\",\n    \"span 6/span 12/7/13\",\n  ],\n  \"5\": [\n    \"span 3/span 4/13/9\",\n    \"span 3/span 4/13/13\",\n    \"span 3/span 4/13/17\",\n    \"span 3/span 4/13/21\",\n    \"span 9/span 16/10/21\",\n  ],\n  \"6\": [\n    \"span 3/span 4/13/7\",\n    \"span 3/span 4/13/11\",\n    \"span 3/span 4/13/15\",\n    \"span 3/span 4/13/19\",\n    \"span 3/span 4/13/23\",\n    \"span 9/span 16/10/21\",\n  ],\n  \"7\": [\n    \"span 3/span 4/13/5\",\n    \"span 3/span 4/13/9\",\n    \"span 3/span 4/13/13\",\n    \"span 3/span 4/13/17\",\n    \"span 3/span 4/13/21\",\n    \"span 3/span 4/13/25\",\n    \"span 9/span 16/10/21\",\n  ],\n};\n\n/**\n * @prop appId uid\n * @prop transcode attendeeMode videoProfile channel baseMode\n */\nclass AgoraCanvas extends React.Component {\n  constructor(props) {\n    super(props);\n    this.client = {};\n    this.localStream = {};\n    this.shareClient = {};\n    this.shareStream = {};\n    this.state = {\n      displayMode: \"pip\",\n      streamList: [],\n      readyState: false,\n      stateSharing: false,\n    };\n  }\n\n  componentWillMount() {\n    let $ = this.props;\n    // init AgoraRTC local client\n    this.client = AgoraRTC.createClient({ mode: $.transcode });\n    this.client.init($.appId, () => {\n      console.log(\"AgoraRTC client initialized\");\n      this.subscribeStreamEvents();\n      this.client.join($.appId, $.channel, $.uid, (uid) => {\n        this.state.uid = uid;\n        console.log(\"User \" + uid + \" join channel successfully\");\n        console.log(\"At \" + new Date().toLocaleTimeString());\n        // create local stream\n        // It is not recommended to setState in function addStream\n        this.localStream = this.streamInit(uid, $.attendeeMode, $.videoProfile);\n        this.localStream.init(\n          () => {\n            if ($.attendeeMode !== \"audience\") {\n              this.addStream(this.localStream, true);\n              this.client.publish(this.localStream, (err) => {\n                console.log(\"Publish local stream error: \" + err);\n              });\n            }\n            this.setState({ readyState: true });\n          },\n          (err) => {\n            console.log(\"getUserMedia failed\", err);\n            this.setState({ readyState: true });\n          }\n        );\n      });\n    });\n  }\n\n  componentDidMount() {\n    // add listener to control btn group\n    let canvas = document.querySelector(\"#ag-canvas\");\n    let btnGroup = document.querySelector(\".ag-btn-group\");\n    canvas.addEventListener(\"mousemove\", () => {\n      if (global._toolbarToggle) {\n        clearTimeout(global._toolbarToggle);\n      }\n      btnGroup.classList.add(\"active\");\n      global._toolbarToggle = setTimeout(function () {\n        btnGroup.classList.remove(\"active\");\n      }, 2000);\n    });\n  }\n\n  // componentWillUnmount () {\n  //     // remove listener\n  //     let canvas = document.querySelector('#ag-canvas')\n  //     canvas.removeEventListener('mousemove')\n  // }\n\n  componentDidUpdate() {\n    // rerendering\n    let canvas = document.querySelector(\"#ag-canvas\");\n    // pip mode (can only use when less than 4 people in channel)\n    if (this.state.displayMode === \"pip\") {\n      let no = this.state.streamList.length;\n      if (no > 4) {\n        this.setState({ displayMode: \"tile\" });\n        return;\n      }\n      this.state.streamList.map((item, index) => {\n        let id = item.getId();\n        let dom = document.querySelector(\"#ag-item-\" + id);\n        if (!dom) {\n          dom = document.createElement(\"section\");\n          dom.setAttribute(\"id\", \"ag-item-\" + id);\n          dom.setAttribute(\"class\", \"ag-item\");\n          canvas.appendChild(dom);\n          item.play(\"ag-item-\" + id);\n        }\n        if (index === no - 1) {\n          dom.setAttribute(\"style\", `grid-area: span 12/span 24/13/25`);\n        } else {\n          dom.setAttribute(\n            \"style\",\n            `grid-area: span 3/span 4/${4 + 3 * index}/25;\n                    z-index:1;width:calc(100% - 20px);height:calc(100% - 20px)`\n          );\n        }\n\n        item.player.resize && item.player.resize();\n      });\n    }\n    // tile mode\n    else if (this.state.displayMode === \"tile\") {\n      let no = this.state.streamList.length;\n      this.state.streamList.map((item, index) => {\n        let id = item.getId();\n        let dom = document.querySelector(\"#ag-item-\" + id);\n        if (!dom) {\n          dom = document.createElement(\"section\");\n          dom.setAttribute(\"id\", \"ag-item-\" + id);\n          dom.setAttribute(\"class\", \"ag-item\");\n          canvas.appendChild(dom);\n          item.play(\"ag-item-\" + id);\n        }\n        dom.setAttribute(\"style\", `grid-area: ${tile_canvas[no][index]}`);\n        item.player.resize && item.player.resize();\n      });\n    }\n    // screen share mode (tbd)\n    else if (this.state.displayMode === \"share\") {\n    }\n  }\n\n  componentWillUnmount() {\n    this.client && this.client.unpublish(this.localStream);\n    this.localStream && this.localStream.close();\n    if (this.state.stateSharing) {\n      this.shareClient && this.shareClient.unpublish(this.shareStream);\n      this.shareStream && this.shareStream.close();\n    }\n    this.client &&\n      this.client.leave(\n        () => {\n          console.log(\"Client succeed to leave.\");\n        },\n        () => {\n          console.log(\"Client failed to leave.\");\n        }\n      );\n  }\n\n  streamInit = (uid, attendeeMode, videoProfile, config) => {\n    let defaultConfig = {\n      streamID: uid,\n      audio: true,\n      video: true,\n      screen: false,\n    };\n\n    switch (attendeeMode) {\n      case \"audio-only\":\n        defaultConfig.video = false;\n        break;\n      case \"audience\":\n        defaultConfig.video = false;\n        defaultConfig.audio = false;\n        break;\n      default:\n      case \"video\":\n        break;\n    }\n\n    let stream = AgoraRTC.createStream(merge(defaultConfig, config));\n    stream.setVideoProfile(videoProfile);\n    return stream;\n  };\n\n  subscribeStreamEvents = () => {\n    let rt = this;\n    rt.client.on(\"stream-added\", function (evt) {\n      let stream = evt.stream;\n      console.log(\"New stream added: \" + stream.getId());\n      console.log(\"At \" + new Date().toLocaleTimeString());\n      console.log(\"Subscribe \", stream);\n      rt.client.subscribe(stream, function (err) {\n        console.log(\"Subscribe stream failed\", err);\n      });\n    });\n\n    rt.client.on(\"peer-leave\", function (evt) {\n      console.log(\"Peer has left: \" + evt.uid);\n      console.log(new Date().toLocaleTimeString());\n      console.log(evt);\n      rt.removeStream(evt.uid);\n    });\n\n    rt.client.on(\"stream-subscribed\", function (evt) {\n      let stream = evt.stream;\n      console.log(\"Got stream-subscribed event\");\n      console.log(new Date().toLocaleTimeString());\n      console.log(\"Subscribe remote stream successfully: \" + stream.getId());\n      console.log(evt);\n      rt.addStream(stream);\n    });\n\n    rt.client.on(\"stream-removed\", function (evt) {\n      let stream = evt.stream;\n      console.log(\"Stream removed: \" + stream.getId());\n      console.log(new Date().toLocaleTimeString());\n      console.log(evt);\n      rt.removeStream(stream.getId());\n    });\n  };\n\n  removeStream = (uid) => {\n    this.state.streamList.map((item, index) => {\n      if (item.getId() === uid) {\n        item.close();\n        let element = document.querySelector(\"#ag-item-\" + uid);\n        if (element) {\n          element.parentNode.removeChild(element);\n        }\n        let tempList = [...this.state.streamList];\n        tempList.splice(index, 1);\n        this.setState({\n          streamList: tempList,\n        });\n      }\n    });\n  };\n\n  addStream = (stream, push = false) => {\n    let repeatition = this.state.streamList.some((item) => {\n      return item.getId() === stream.getId();\n    });\n    if (repeatition) {\n      return;\n    }\n    if (push) {\n      this.setState({\n        streamList: this.state.streamList.concat([stream]),\n      });\n    } else {\n      this.setState({\n        streamList: [stream].concat(this.state.streamList),\n      });\n    }\n  };\n\n  handleCamera = (e) => {\n    e.currentTarget.classList.toggle(\"off\");\n    this.localStream.isVideoOn()\n      ? this.localStream.disableVideo()\n      : this.localStream.enableVideo();\n  };\n\n  handleMic = (e) => {\n    e.currentTarget.classList.toggle(\"off\");\n    this.localStream.isAudioOn()\n      ? this.localStream.disableAudio()\n      : this.localStream.enableAudio();\n  };\n\n  switchDisplay = (e) => {\n    if (\n      e.currentTarget.classList.contains(\"disabled\") ||\n      this.state.streamList.length <= 1\n    ) {\n      return;\n    }\n    if (this.state.displayMode === \"pip\") {\n      this.setState({ displayMode: \"tile\" });\n    } else if (this.state.displayMode === \"tile\") {\n      this.setState({ displayMode: \"pip\" });\n    } else if (this.state.displayMode === \"share\") {\n      // do nothing or alert, tbd\n    } else {\n      console.error(\"Display Mode can only be tile/pip/share\");\n    }\n  };\n\n  hideRemote = (e) => {\n    if (\n      e.currentTarget.classList.contains(\"disabled\") ||\n      this.state.streamList.length <= 1\n    ) {\n      return;\n    }\n    let list;\n    let id = this.state.streamList[this.state.streamList.length - 1].getId();\n    list = Array.from(\n      document.querySelectorAll(`.ag-item:not(#ag-item-${id})`)\n    );\n    list.map((item) => {\n      if (item.style.display !== \"none\") {\n        item.style.display = \"none\";\n      } else {\n        item.style.display = \"block\";\n      }\n    });\n  };\n\n  handleExit = (e) => {\n    if (e.currentTarget.classList.contains(\"disabled\")) {\n      return;\n    }\n    try {\n      this.client && this.client.unpublish(this.localStream);\n      this.localStream && this.localStream.close();\n      if (this.state.stateSharing) {\n        this.shareClient && this.shareClient.unpublish(this.shareStream);\n        this.shareStream && this.shareStream.close();\n      }\n      this.client &&\n        this.client.leave(\n          () => {\n            console.log(\"Client succeed to leave.\");\n          },\n          () => {\n            console.log(\"Client failed to leave.\");\n          }\n        );\n    } finally {\n      this.setState({ readyState: false });\n      this.client = null;\n      this.localStream = null;\n      // redirect to index\n      window.location.hash = \"\";\n    }\n  };\n\n  sharingScreen = (e) => {\n    if (this.state.stateSharing) {\n      this.shareClient && this.shareClient.unpublish(this.shareStream);\n      this.shareStream && this.shareStream.close();\n      this.state.stateSharing = false;\n    } else {\n      this.state.stateSharing = true;\n      let $ = this.props;\n      // init AgoraRTC local client\n      this.shareClient = AgoraRTC.createClient({ mode: $.transcode });\n      this.shareClient.init($.appId, () => {\n        console.log(\"AgoraRTC client initialized\");\n        this.subscribeStreamEvents();\n        this.shareClient.join($.appId, $.channel, $.uid, (uid) => {\n          this.state.uid = uid;\n          console.log(\"User \" + uid + \" join channel successfully\");\n          console.log(\"At \" + new Date().toLocaleTimeString());\n          // create local stream\n          // It is not recommended to setState in function addStream\n          this.shareStream = this.streamInitSharing(\n            uid,\n            $.attendeeMode,\n            $.videoProfile\n          );\n          this.shareStream.init(\n            () => {\n              if ($.attendeeMode !== \"audience\") {\n                this.addStream(this.shareStream, true);\n                this.shareClient.publish(this.shareStream, (err) => {\n                  console.log(\"Publish local stream error: \" + err);\n                });\n              }\n              this.setState({ readyState: true });\n            },\n            (err) => {\n              console.log(\"getUserMedia failed\", err);\n              this.setState({ readyState: true });\n            }\n          );\n        });\n      });\n    }\n  };\n\n  streamInitSharing = (uid, attendeeMode, videoProfile, config) => {\n    let defaultConfig = {\n      streamID: uid,\n      audio: true,\n      video: false,\n      screen: true,\n    };\n\n    switch (attendeeMode) {\n      case \"audio-only\":\n        defaultConfig.video = false;\n        break;\n      case \"audience\":\n        defaultConfig.video = false;\n        defaultConfig.audio = false;\n        break;\n      default:\n      case \"video\":\n        break;\n    }\n\n    let stream = AgoraRTC.createStream(merge(defaultConfig, config));\n    stream.setVideoProfile(videoProfile);\n    return stream;\n  };\n\n  render() {\n    const style = {\n      display: \"grid\",\n      gridGap: \"10px\",\n      alignItems: \"center\",\n      justifyItems: \"center\",\n      gridTemplateRows: \"repeat(12, auto)\",\n      gridTemplateColumns: \"repeat(24, auto)\",\n    };\n    const videoControlBtn =\n      this.props.attendeeMode === \"video\" ? (\n        <span\n          onClick={this.handleCamera}\n          className=\"ag-btn videoControlBtn\"\n          title=\"Enable/Disable Video\"\n        >\n          <i className=\"ag-icon ag-icon-camera\"></i>\n          <i className=\"ag-icon ag-icon-camera-off\"></i>\n        </span>\n      ) : (\n        \"\"\n      );\n\n    const audioControlBtn =\n      this.props.attendeeMode !== \"audience\" ? (\n        <span\n          onClick={this.handleMic}\n          className=\"ag-btn audioControlBtn\"\n          title=\"Enable/Disable Audio\"\n        >\n          <i className=\"ag-icon ag-icon-mic\"></i>\n          <i className=\"ag-icon ag-icon-mic-off\"></i>\n        </span>\n      ) : (\n        \"\"\n      );\n\n    const switchDisplayBtn = (\n      <span\n        onClick={this.switchDisplay}\n        className={\n          this.state.streamList.length > 4\n            ? \"ag-btn displayModeBtn disabled\"\n            : \"ag-btn displayModeBtn\"\n        }\n        title=\"Switch Display Mode\"\n      >\n        <i className=\"ag-icon ag-icon-switch-display\"></i>\n      </span>\n    );\n    const hideRemoteBtn = (\n      <span\n        className={\n          this.state.streamList.length > 4 || this.state.displayMode !== \"pip\"\n            ? \"ag-btn disableRemoteBtn disabled\"\n            : \"ag-btn disableRemoteBtn\"\n        }\n        onClick={this.hideRemote}\n        title=\"Hide Remote Stream\"\n      >\n        <i className=\"ag-icon ag-icon-remove-pip\"></i>\n      </span>\n    );\n    const exitBtn = (\n      <span\n        onClick={this.handleExit}\n        className={\n          this.state.readyState ? \"ag-btn exitBtn\" : \"ag-btn exitBtn disabled\"\n        }\n        title=\"Exit\"\n      >\n        <i className=\"ag-icon ag-icon-leave\"></i>\n      </span>\n    );\n\n    return (\n      <div id=\"ag-canvas\" style={style}>\n        <div className=\"ag-btn-group\">\n          {exitBtn}\n          {videoControlBtn}\n          {audioControlBtn}\n          {\n            <span\n              onClick={this.sharingScreen}\n              className=\"ag-btn shareScreenBtn\"\n              title=\"Share/unShare Screen\"\n            >\n              <i className=\"ag-icon ag-icon-screen-share\"></i>\n            </span>\n          }\n          {switchDisplayBtn}\n          {hideRemoteBtn}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AgoraCanvas;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAPCAYAAAGega+EAAAABGdBTUEAALGPC/xhBQAAASFJREFUOBHNk71qAkEUhR3jDwGFpLGSCBaCjZB0VoEQErAWHyMvYKFWiiD4LFaWFmmCnW9gmyZlcCBsvqM7G2aDu9p54XDn3HPu3ZnZ3UyGCIJgBG60GIQFa1QV+Qsnuwrc7tcSwAcYgpJ6Jyg750zPaplhuwZ3YK3NzJP60L+zGL6STGhXMhVTTPlIZ2wnIizgNce1yUfIkyvE8q0x5k0d/ZjgUfSy9lTwqv/JTqbUONl0eFXH5xV1uhf0dui5J1fBBmyB5XRj8iEwt9xaGd5zXJNeIQswBGknxeJFA9bkaQ+aOgCxD9EzJxJ6LSicdEuJk0Lx8gbl2NkKLHVW8rmX/UxPnsu2hoUXDOxSmIIf8A4qQH/1J9D3UQczmvW3R/ELvLZ7YNQHvpUAAAAASUVORK5CYII=\"","export default {\n  minLength(value, length) {\n    return value.length < length ?\n      1 : 0\n  },\n  maxLength(value, length) {\n    return value.length > length ?\n      1 : 0\n  },\n  validChar(value) {\n    return !/^[0-9a-zA-Z\\_]+$/.test(value) ?\n      1 : 0\n  },\n  isNonEmpty(value) {\n    return value === '' ?\n      1 : 0\n  }\n}","export const RESOLUTION_ARR = {\n  '120p,120p_1': [160, 120, 15, 65],\n  '120p_3': [120, 120, 15, 50],\n  '180p,180p_1': [320, 180, 15, 140],\n  '180p_3': [180, 180, 15, 100],\n  '180p_4': [240, 180, 15, 120],\n  '240p,240p_1': [320, 240, 15, 200],\n  '240p_3': [240, 240, 15, 140],\n  '240p_4': [424, 240, 15, 220],\n  '360p,360p_1': [640, 360, 15, 400],\n  '360p_3': [360, 360, 15, 260],\n  '360p_4': [640, 360, 30, 600],\n  '360p_6': [360, 360, 30, 400],\n  '360p_7': [480, 360, 15, 320],\n  '360p_8': [480, 360, 30, 490],\n  '360p_9': [640, 360, 15, 800],\n  '360p_10': [640, 360, 24, 800],\n  '360p_11': [640, 360, 24, 1000],\n  '480p,480p_1': [640, 480, 15, 500],\n  '480p_2': [640, 480, 30, 1000],\n  '480p_3': [480, 480, 15, 400],\n  '480p_4': [640, 480, 30, 750],\n  '480p_6': [480, 480, 30, 600],\n  '480p_8': [848, 480, 15, 610],\n  '480p_9': [848, 480, 30, 930],\n  '480p_10': [640, 480, 10, 400],\n  '720p,720p_1': [1280, 720, 15, 1130],\n  '720p_2': [1280, 720, 15, 2080],\n  '720p_3': [1280, 720, 30, 1710],\n  '720p_5': [960, 720, 15, 910],\n  '720p_6': [960, 720, 30, 1380],\n  '1080p,1080p_1': [1920, 1080, 15, 2080],\n  '1080p_2': [1920, 1080, 30, 3000],\n  '1080p_3': [1920, 1080, 30, 3150],\n  '1080p_5': [1920, 1080, 60, 4780],\n  '1440p,1440p_1': [2560, 1440, 30, 4850],\n  '1440p_2': [2560, 1440, 60, 7350],\n  '4k,4k_1': [3840, 2160, 30, 8910],\n  '4k_3': [3840, 2160, 60, 13500],\n}\n\nexport const SHARE_ID = 1","import React from 'react'\nimport * as Cookies from 'js-cookie'\n\nimport '../../assets/fonts/css/icons.css'\nimport Validator from '../../utils/Validator'\nimport { RESOLUTION_ARR } from '../../utils/Settings'\nimport './index.css'\n\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      joinBtn: false,\n      channel: '',\n      baseMode: 'avc',\n      transcode: 'interop',\n      attendeeMode: 'video',\n      videoProfile: '480p_4',\n\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener('keypress', (e) => {\n      e.keyCode === 13 && this.handleJoin()\n    })\n  }\n\n  /**\n   * \n   * @param {String} val 0-9 a-z A-Z _ only \n   * @param {Boolean} state \n   */\n  handleChannel = (val, state) => {\n    this.setState({\n      channel: val,\n      joinBtn: state\n    })\n  }\n\n  handleJoin = () => {\n    if (!this.state.joinBtn) {\n      return\n    }\n    console.log(this.state)\n    Cookies.set('channel', this.state.channel)\n    Cookies.set('baseMode', this.state.baseMode)\n    Cookies.set('transcode', this.state.transcode)\n    Cookies.set('attendeeMode', this.state.attendeeMode)\n    Cookies.set('videoProfile', this.state.videoProfile)\n    window.location.hash = \"meeting\"\n  }\n\n  render() {\n    return (\n      <div className=\"wrapper index\">\n        <div className=\"ag-header\"></div>\n        <div className=\"ag-main\">\n          <section className=\"login-wrapper\">\n            <div className=\"login-header\">\n              <img src={require('../../assets/images/ag-logo.png')} alt=\"\" />\n              <p className=\"login-title\">AgoraWeb v2.1</p>\n              <p className=\"login-subtitle\">Powering Real-Time Communications</p>\n            </div>\n            <div className=\"login-body\">\n              <div className=\"columns\">\n                <div className=\"column is-12\">\n                  <InputChannel onChange={this.handleChannel} placeholder=\"Input a room name here\"></InputChannel>\n                </div>\n              </div>\n              <div className=\"columns\">\n                <div className=\"column is-7\">\n                  <BaseOptions\n                    onChange={val => this.setState({ baseMode: val })}>\n                  </BaseOptions>\n                </div>\n                <div className=\"column is-5\">\n                  <AdvancedOptions\n                    onRadioChange={val => this.setState({ transcode: val })}\n                    onSelectChange={val => this.setState({ videoProfile: val })}>\n                  </AdvancedOptions>\n                </div>\n              </div>\n              <div className=\"columns\">\n                <div className=\"column\">\n                  <div id=\"attendeeMode\" className=\"control\">\n                    <label className=\"radio\">\n                      <input onChange={e => this.setState({ attendeeMode: e.target.value })}\n                        value=\"video\" type=\"radio\"\n                        name=\"attendee\" defaultChecked />\n                      <span className=\"radio-btn\">\n                      </span>\n                      <span className=\"radio-img video\">\n                      </span>\n                      <span className=\"radio-msg\">Video Call : join with video call</span>\n                    </label>\n                    <br />\n                    <label className=\"radio\">\n                      <input onChange={e => this.setState({ attendeeMode: e.target.value })}\n                        value=\"audio-only\" type=\"radio\"\n                        name=\"attendee\" />\n                      <span className=\"radio-btn\">\n                      </span>\n                      <span className=\"radio-img audio\">\n                      </span>\n                      <span className=\"radio-msg\">Audio-only : join with audio call</span>\n                    </label>\n                    <br />\n                    <label className=\"radio\">\n                      <input onChange={e => this.setState({ attendeeMode: e.target.value })}\n                        value=\"audience\" type=\"radio\"\n                        name=\"attendee\" />\n                      <span className=\"radio-btn\">\n                      </span>\n                      <span className=\"radio-img audience\">\n                      </span>\n                      <span className=\"radio-msg\">Audience : join as an audience</span>\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"login-footer\">\n              <a id=\"joinBtn\"\n                onClick={this.handleJoin}\n                disabled={!this.state.joinBtn}\n                className=\"ag-rounded button is-info\">Join\n                  </a>\n            </div>\n          </section>\n        </div>\n        <div className=\"ag-footer\">\n          <a className=\"ag-href\" href=\"https://www.agora.io\">\n            <span>Powered By Agora</span>\n          </a>\n          <div>\n            <span>Interested in Agora video call SDK? Contact </span>\n            <span className=\"ag-contact\">sales@agora.io</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass InputChannel extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      errorMsg: '',\n      state: ''\n    }\n  }\n\n  validate = (val) => {\n    this.setState({\n      state: '',\n      errorMsg: ''\n    })\n    if (Validator.isNonEmpty(val.trim())) {\n      this.setState({\n        errorMsg: 'Cannot be empty!',\n        state: 'is-danger'\n      })\n      return false\n    }\n    else if (Validator.minLength(val.trim(), 1)) {\n      this.setState({\n        errorMsg: 'No shorter than 1!',\n        state: 'is-danger'\n      })\n      return false\n    }\n    else if (Validator.maxLength(val.trim(), 16)) {\n      this.setState({\n        errorMsg: 'No longer than 16!',\n        state: 'is-danger'\n      })\n      return false\n    }\n    else if (Validator.validChar(val.trim())) {\n      this.setState({\n        state: 'is-danger',\n        errorMsg: 'Only capital or lower-case letter, number and \"_\" are permitted!'\n      })\n      return false\n    }\n    else {\n      this.setState({\n        state: 'is-success'\n      })\n      return true\n    }\n  }\n\n  handleChange = (e) => {\n    let state = this.validate(e.target.value)\n    this.props.onChange(e.target.value, state)\n  }\n\n  render() {\n    let validateIcon = ''\n    switch (this.state.state) {\n      default:\n      case '':\n        validateIcon = ''; break;\n      case 'is-success':\n        validateIcon = (<i className=\"ag-icon ag-icon-valid\"></i>); break;\n      case 'is-danger':\n        validateIcon = (<i className=\"ag-icon ag-icon-invalid\"></i>); break;\n    }\n\n    return (\n      <div className=\"channel-wrapper control has-icons-left\">\n        <input onInput={this.handleChange}\n          id=\"channel\"\n          className={'ag-rounded input ' + this.state.state}\n          type=\"text\"\n          placeholder={this.props.placeholder} />\n        <span className=\"icon is-small is-left\">\n          <img src={require('../../assets/images/ag-login.png')} alt=\"\" />\n        </span>\n        <span className=\"validate-icon\">\n          {validateIcon}\n        </span>\n        <div className=\"validate-msg\">\n          {this.state.errorMsg}\n        </div>\n      </div>\n    )\n  }\n}\n\nclass BaseOptions extends React.Component {\n  constructor(props) {\n    super(props)\n    this._options = [\n      {\n        label: 'Agora Video Call',\n        value: 'avc',\n        content: 'One to one and group calls'\n      },\n      {\n        label: 'Agora Live',\n        value: 'al',\n        content: 'Enabling real-time interactions between the host and the audience'\n      }\n    ]\n    this.state = {\n      active: false,\n      message: 'Agora Video Call',\n\n    }\n  }\n\n  handleSelect = (item) => {\n    let msg = item.label\n    let val = item.value\n    this.setState({\n      'message': msg,\n      'active': false\n    })\n    this.props.onChange(val)\n  }\n\n  render() {\n    const options = this._options.map((item, index) => {\n      return (\n        <div className=\"dropdown-item\"\n          key={index}\n          onClick={(e) => this.handleSelect(item, e)}>\n          <p>{item.label}</p>\n          <hr />\n          <p>{item.content}</p>\n        </div>\n      )\n    })\n\n    return (\n      <div className={this.state.active ? 'dropdown is-active' : 'dropdown'}>\n        <div className=\"dropdown-trigger\"\n          onClick={() => this.setState({ 'active': !this.state.active })}>\n          <a id=\"baseMode\" className=\"ag-rounded button\" aria-haspopup=\"true\" aria-controls=\"baseModeOptions\">\n            <span id=\"baseOptionLabel\">{this.state.message}</span>\n            <span className=\"icon is-small\">\n              <i className=\"ag-icon ag-icon-arrow-down\" aria-hidden=\"true\"></i>\n            </span>\n          </a>\n        </div>\n        <div className=\"dropdown-menu\" id=\"baseModeOptions\" role=\"menu\">\n          <div className=\"dropdown-content\">\n            {options}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass AdvancedOptions extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      active: false,\n    }\n  }\n\n  handleRadio = (e) => {\n    this.props.onRadioChange(e.target.value)\n  }\n\n  handleSelect = (e) => {\n    this.props.onSelectChange(e.target.value)\n  }\n\n  render() {\n    const options = Object.entries(RESOLUTION_ARR).map((item, index) => {\n      return (\n        <option key={index} value={item[0].split(\",\")[0]}>{item[1][0]}x {item[1][1]}, {item[1][2]}fps, {item[1][3]}kbps</option>\n      )\n    })\n    return (\n      <div className={this.state.active ? 'dropdown is-active' : 'dropdown'}>\n        <div className=\"dropdown-trigger\"\n          onClick={() => this.setState({ 'active': !this.state.active })}>\n          <a id=\"advancedProfile\" className=\"ag-rounded button\" aria-haspopup=\"true\" aria-controls=\"advancedOptions\">\n            <span>Advanced</span>\n          </a>\n        </div>\n        <div className=\"dropdown-menu\" id=\"advancedOptions\" role=\"menu\">\n          <div className=\"dropdown-content\">\n            <div className=\"dropdown-item\">\n              <div className=\"control\">\n                <label className=\"radio\">\n                  <input value=\"\" type=\"radio\" name=\"transcode\" onChange={this.handleRadio} />\n                  <span>VP8-only</span>\n                </label>\n                <label className=\"radio\">\n                  <input value=\"interop\" type=\"radio\" defaultChecked onChange={this.handleRadio} name=\"transcode\" />\n                  <span>VP8 &amp; H264</span>\n                </label>\n                <label className=\"radio\">\n                  <input value=\"h264_interop\" type=\"radio\" onChange={this.handleRadio} name=\"transcode\" />\n                  <span>H264-only</span>\n                </label>\n              </div>\n            </div>\n            <div className=\"dropdown-item\">\n              <div className=\"select is-rounded\">\n                <select onChange={this.handleSelect} defaultValue=\"480p_4\" id=\"videoProfile\" className=\"ag-rounded is-clipped\">\n                  {options}\n                </select>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Index","export const AGORA_APP_ID = '233f895267bd48c7a085907c5c1aa566' // set your app id here","import React from \"react\";\nimport * as Cookies from \"js-cookie\";\n\nimport \"./meeting.css\";\nimport AgoraVideoCall from \"../../components/AgoraVideoCall\";\nimport { AGORA_APP_ID } from \"../../agora.config\";\n\nclass Meeting extends React.Component {\n  constructor(props) {\n    super(props);\n    this.videoProfile = Cookies.get(\"videoProfile\").split(\",\")[0] || \"480p_4\";\n    this.channel = Cookies.get(\"channel\") || \"test\";\n    this.transcode = Cookies.get(\"transcode\") || \"interop\";\n    this.attendeeMode = Cookies.get(\"attendeeMode\") || \"video\";\n    this.baseMode = Cookies.get(\"baseMode\") || \"avc\";\n    this.appId = AGORA_APP_ID;\n    if (!this.appId) {\n      return alert(\"Get App ID first!\");\n    }\n    this.uid = undefined;\n  }\n\n  render() {\n    return (\n      <div className=\"wrapper meeting\">\n        <div className=\"ag-header\">\n          <div className=\"ag-header-lead\">\n            <img\n              className=\"header-logo\"\n              src={require(\"../../assets/images/ag-logo.png\")}\n              alt=\"\"\n            />\n            <span>AgoraWeb v2.1</span>\n          </div>\n          <div className=\"ag-header-msg\">\n            Room:&nbsp;<span id=\"room-name\">{this.channel}</span>\n          </div>\n        </div>\n        <div className=\"ag-main\">\n          <div className=\"ag-container\">\n            <AgoraVideoCall\n              videoProfile={this.videoProfile}\n              channel={this.channel}\n              transcode={this.transcode}\n              attendeeMode={this.attendeeMode}\n              baseMode={this.baseMode}\n              appId={this.appId}\n              uid={this.uid}\n            />\n          </div>\n        </div>\n        <div className=\"ag-footer\">\n          <a className=\"ag-href\" href=\"https://www.agora.io\">\n            <span>Powered By Agora</span>\n          </a>\n          <span>Talk to Support: 400 632 6626</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Meeting;\n","import React, { Component } from 'react'\nimport { HashRouter as Router, Route } from 'react-router-dom'\nimport 'bulma/css/bulma.css'\n\nimport './App.css'\nimport Index from './index'\nimport Meeting from './meeting'\n\nclass App extends Component {\n  render() {\n    return (\n      <Router>\n        <div className=\"full\">\n          <Route exact path=\"/\" component={Index} />\n          <Route path=\"/meeting\" component={Meeting} />\n        </div>\n      </Router>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './pages/App';\nimport * as serviceWorker from './serviceWorker';\n\nconst polyfill = (() => {\n  // Object.entries\n  if (!Object.entries)\n  Object.entries = function( obj ){\n    var ownProps = Object.keys( obj ),\n        i = ownProps.length,\n        resArray = new Array(i); // preallocate the Array\n    while (i--)\n      resArray[i] = [ownProps[i], obj[ownProps[i]]];\n    \n    return resArray;\n  }\n})();\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}